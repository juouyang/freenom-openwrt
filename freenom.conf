##########################
# CONFIGURATION SETTINGS #
##########################

##############
# Login data #
##############

# Set variables for email/password -OR- source a "secrets" file
# Examples:
#   freenom_email="John.Smith@example.com"
#   freenom_passwd="your-password"
#   source "/home/${LOGNAME}/.secret/.freenom"

freenom_email="youremail@example.com"
freenom_passwd="your-password"


##################
# Get current IP #
##################

freenom_update_ipv="4"        # [4/6] use ipv4 or ipv6
freenom_update_dig="0"        # [0/1] set to "1" to also use 'dig' or "0" for curl only

################
# Output files #
################

# Set dir and "file mask" to output results, lock files and log:
#   /dir/to/freenom.log
#   /dir/to/freenom.ip{4,6}_<domain>.lock}
#   /dir/to/freenom.{renewal,errorUpdate}Result_<id>.html
# Default: freenom_out_dir="/var/log"
#          freenom_out_mask="freenom"

freenom_out_dir="/root/freenom"
freenom_out_mask="freenom"

######################
# Optional overrides #
######################

# These are ok to leave these as-is

freenom_update_force="0"      # [0/1] force ip update, even if unchanged
freenom_update_ttl="3600"     # ttl in sec (changed from 14440 to 3600)
freenom_update_ip_retry="3"   # number of retries to get ip
freenom_update_ip_log="1"     # [0/1] log 'skipped same ip' msg
freenom_renew_log="1"         # [0/1] log renew warnings details
freenom_list_bind="0"         # [0/1] output isc bind zone format
freenom_update_ip="0"         # [0/1] arg "-u"
freenom_list="0"              # [0/1] arg "-l"
freenom_list_renewals="0"     # [0/1] args "-l -d"
freenom_list_records="0"      # [0/1] arg "-z"
freenom_renew_domain="0"      # [0/1] arg "-r"
freenom_renew_all="0"         # [0/1] args "-r -a"
debug=0

# Array with useragent strings
uaString+=("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.108 Safari/537.36")
uaString+=("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36")
uaString+=("Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:59.0) Gecko/20100101 Firefox/59.0")
uaString+=("Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:66.0) Gecko/20100101 Firefox/66.0")
uaString+=("Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586,gzip(gfe)")
uaString+=("Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/55.0.2883.87 Safari/537.36")
uaString+=("Mozilla/5.0 (IE 11.0; Windows NT 6.3; Trident/7.0; .NET4.0E; .NET4.0C; rv:11.0) like Gecko")
uaString+=("Mozilla/5.0 (X11; Linux x86_64; rv:55.0) Gecko/20100101 Firefox/55.0")
uaString+=("Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36")
uaString+=("Mozilla/5.0 (Android 4.4; Mobile; rv:41.0) Gecko/41.0 Firefox/41.0")

# Array with curl and dig commands used to "get ip" on update
# %agent% will be replaced with a random useragent string
ipCmd+=("curl -%ipv% -A %agent% -m 10 -s https://diagnostic.opendns.com/myip")
ipCmd+=("curl -%ipv% -A %agent% -m 10 -s https://www.ripe.net/@@ipaddress")
ipCmd+=("curl -%ipv% -A %agent% -m 10 -s http://ipv6-test.com/api/myip.php")
ipCmd+=("curl -%ipv% -A %agent% -m 10 -s http://checkip.dns.he.net")
ipCmd+=("curl -%ipv% -A %agent% -m 10 -s https://cgi1.apnic.net/cgi-bin/my-ip.php")
ipCmd+=("curl -%ipv% -A %agent% -m 10 -s ipv%ipv%.test-ipv6.com/ip/?callback")
ipCmd+=("curl -4 -A %agent% -m 10 -s https://checkip.amazonaws.com")
ipCmd+=("curl -4 -A %agent% -m 10 -s http://ip.taobao.com/service/getIpInfo.php?ip=myip")
ipCmd+=("dig -%ipv% TXT +short o-o.myaddr.l.google.com @ns1.google.com")
ipCmd+=("dig -4 +short myip.opendns.com @resolver1.opendns.com")
ipCmd+=("dig -4 +short myip.opendns.com @resolver2.opendns.com")
ipCmd+=("dig -4 +short myip.opendns.com @resolver3.opendns.com")
ipCmd+=("dig -4 +short myip.opendns.com @resolver4.opendns.com")
ipCmd+=("dig -4 +short whoami.akamai.net @ns1-1.akamaitech.net")

######################
# Domain name and id #
######################

# [!] The following is not needed anymore and can be skipped if you want,
#     since we can get domain_id's and name automatically now

# Open DNS management page in your browser, URL vs settings:
# https://my.freenom.com/clientarea.php? 
#         managedns={freenom_domain_name}&domainid={freenom_domain_id}
# Examples:
#   freenom_domain_name="example.cf"
#   freenom_subdomain_name=""
#   freenom_domain_id="1234567890"


# NOTE: There is an extra "hidden" option to specify 'domain_id'
#       as 3rd argument in case you need it

######################
# Optional cURL args #
######################

# Default: c_args="-s"
# Useful options:
#   info: "-I", follow links: "-L", be silent: "-s", verbose: "-v" verbose
#   no stdout: "-o /dev/null" (!) for debug only, causes script to fail
#   proxy: "--http https://localhost", socks5: "--socks 1080:localhost"

# Uncomment line below to enable
#c_args="-s -I -L -s -v -o /dev/null --socks 1080:localhost"

##########################
# END OF CONFIG SETTINGS #
##########################
